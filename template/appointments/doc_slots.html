{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/doc_slots.css' %}">
</head>
<body>
    <div class="container" style="padding-top: 4%">
        <div class="row">
            <div class="col"></div>
            <div class="col"></div>
            <div class="col">

                <div class="dropdown">
                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">Actions</button>
                    <div class="dropdown-menu">
                        <button type="button" class="dropdown-item" data-toggle="modal" data-target="#myModal">Add Slot</button>
                        <a class="dropdown-item" href="#">Delete Item</a>
                    </div>
                </div>
            </div>
            <div class="col"></div>
        </div>

        <div class="modal" id="myModal">
            <div class="modal-dialog">
            <div class="modal-content">

            <div class="modal-header">
                <h4 class="modal-title">Add Slot</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <div class="modal-body">
                <form action="{% url 'appointments:add_slots' %}" method="post">
                    {% csrf_token %}
                    <div class="container">
                        <div class="row">
                            <div class="col">Start Time:</div>
                            <div class="col"><input type="time" name="st_time"></div>
                        </div>
                        <div class="row">
                            <div class="col">End Time:</div>
                            <div class="col"><input type="time" name="end_time"></div>
                        </div>
                        <div class="row">
                            <div class="col">Slot Time:</div>
                            <div class="col"><input type="number" name="time" min="0" max="60"></div>
                        </div>
                        <div class="row">
                            <div class="col">Fees:</div>
                            <div class="col"><input type="number" name="fees" value="300"></div>
                        </div>
                        <div class="row">
                            <div class="weekDays-selector">
                                <input type="checkbox" name="weekday-mon" id="weekday-mon" class="weekday" checked />
                                <label for="weekday-mon">M</label>
                                <input type="checkbox" name="weekday-tue" id="weekday-tue" class="weekday" checked />
                                <label for="weekday-tue">T</label>
                                <input type="checkbox" name="weekday-wed" id="weekday-wed" class="weekday" checked />
                                <label for="weekday-wed">W</label>
                                <input type="checkbox" name="weekday-thu" id="weekday-thu" class="weekday" checked />
                                <label for="weekday-thu">T</label>
                                <input type="checkbox" name="weekday-fri" id="weekday-fri" class="weekday" checked />
                                <label for="weekday-fri">F</label>
                                <input type="checkbox" name="weekday-sat" id="weekday-sat" class="weekday" />
                                <label for="weekday-sat">S</label>
                                <input type="checkbox" name="weekday-sun" id="weekday-sun" class="weekday" />
                                <label for="weekday-sun">S</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col"></div>
                            <div class="col"><button type="submit">Add</button></div>
                        </div>
                    </div>
                </form>
            </div>

            </div>
            </div>
        </div>

    </div>
    <div class="container">
        <div class="row">
            <div class="col"></div>
            <div class="col">S.No</div>
            <div class="col">Start Time</div>
            <div class="col">End Time</div>
            <div class="col">Cost</div>
            <div class="col"></div>
        </div>
        {% if items %}
            <form action="{% url 'appointments:del_slots' %}" method="post">
            {% csrf_token %}
            {% for item in items %}
            <div class="row">
                <div class="col"><input type="checkbox" name="{{ item.slotid }}" id="{{ item.slotid }}"></div>
                <div class="col">{{ item.num }}</div>
                <div class="col">{{ item.start_time }}</div>
                <div class="col">{{ item.end_time }}</div>
                <div class="col">{{ item.fees }}</div>
                <div class="col">
                    <div class="weekDays-selector">
                        {% if 'mon' in item.days %}
                            <input type="checkbox" name="weekday-mon" id="weekday-mon" class="weekday" checked disabled/>
                        {% else %}
                            <input type="checkbox" name="weekday-mon" id="weekday-mon" class="weekday" disabled/>
                        {% endif %}
                        <label for="weekday-mon">M</label>
                        {% if 'tue' in item.days %}
                            <input type="checkbox" name="weekday-tue" id="weekday-tue" class="weekday" checked disabled/>
                        {% else %}
                            <input type="checkbox" name="weekday-tue" id="weekday-tue" class="weekday" disabled/>
                        {% endif %}
                        <label for="weekday-tue">T</label>
                        {% if 'wed' in item.days %}
                            <input type="checkbox" name="weekday-wed" id="weekday-wed" class="weekday" checked disabled/>
                        {% else %}
                            <input type="checkbox" name="weekday-wed" id="weekday-wed" class="weekday" disabled/>
                        {% endif %}
                        <label for="weekday-wed">W</label>
                        {% if 'thu' in item.days %}
                            <input type="checkbox" name="weekday-thu" id="weekday-thu" class="weekday" checked disabled/>
                        {% else %}
                            <input type="checkbox" name="weekday-thu" id="weekday-thu" class="weekday" disabled/>
                        {% endif %}
                        <label for="weekday-thu">T</label>
                        {% if 'fri' in item.days %}
                            <input type="checkbox" name="weekday-fri" id="weekday-fri" class="weekday" checked disabled/>
                        {% else %}
                            <input type="checkbox" name="weekday-fri" id="weekday-fri" class="weekday" disabled/>
                        {% endif %}
                        <label for="weekday-fri">F</label>
                        {% if 'sat' in item.days %}
                            <input type="checkbox" name="weekday-sat" id="weekday-sat" class="weekday" checked disabled/>
                        {% else %}
                            <input type="checkbox" name="weekday-sat" id="weekday-sat" class="weekday" disabled/>
                        {% endif %}
                        <label for="weekday-sat">S</label>
                        {% if 'sun' in item.days %}
                            <input type="checkbox" name="weekday-sun" id="weekday-sun" class="weekday" checked disabled/>
                        {% else %}
                            <input type="checkbox" name="weekday-sun" id="weekday-sun" class="weekday" disabled/>
                        {% endif %}
                        <label for="weekday-sun">S</label>
                    </div>
                </div>
            </div>
            {% endfor %}
            <div class="row">
                 <div class="col"><button type="submit">Delete</button></div>
                <div class="col"></div>
                <div class="col"></div>
                <div class="col"></div>
                <div class="col"><button type="button">Add Slot</button></div>
                <div class="col"></div>
            </div>
            </form>
        {% endif %}
    </div>
</body>
</html>
